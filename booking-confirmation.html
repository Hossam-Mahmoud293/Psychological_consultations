<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ø·Ù…Ø£Ù†ÙŠÙ†Ø© | Ù…Ø³Ø§Ø­ØªÙƒ Ù„Ù„Ù†Ù…Ùˆ ÙˆØ§Ù„ØªØ·ÙˆØ±</title>
    <link rel="icon" type="image/svg+xml" href="logo.svg" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="booking-styles.css" />
    <style>
      .confirmation-container {
        max-width: 800px;
        margin: 2rem auto;
        padding: 2rem;
      }
      .success-header {
        text-align: center;
        margin-bottom: 3rem;
      }
      .success-icon {
        font-size: 4rem;
        color: #16a34a;
        margin-bottom: 1rem;
        animation: bounce 0.5s ease;
      }
      @keyframes bounce {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
      }
      .booking-summary {
        background: var(--color-surface);
        border-radius: 1rem;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 4px 12px rgba(124, 58, 237, 0.1);
        border: 1px solid var(--color-border);
      }
      .summary-row {
        display: flex;
        justify-content: space-between;
        padding: 0.75rem 0;
        border-bottom: 1px solid var(--color-border);
      }
      .summary-row:last-child {
        border-bottom: none;
      }
      .summary-label {
        color: var(--color-text-muted);
        font-weight: 500;
      }
      .summary-value {
        color: var(--color-text-main);
        font-weight: 600;
      }
      .payment-selection {
        background: linear-gradient(135deg, #f3e8ff 0, #ffffff 100%);
        border-radius: 1rem;
        padding: 2rem;
        border: 1px solid var(--color-border);
      }
      .payment-selection h3 {
        margin: 0 0 1.5rem;
        text-align: center;
        color: var(--color-primary-dark);
      }
      .next-steps {
        background: #f0f9ff;
        border: 1px solid #0ea5e9;
        padding: 1.5rem;
        border-radius: 0.7rem;
        margin-top: 2rem;
      }
      .next-steps h4 {
        margin: 0 0 1rem;
        color: #0369a1;
      }
      .step-item {
        display: flex;
        align-items: center;
        padding: 0.5rem 0;
      }
      .step-number {
        width: 25px;
        height: 25px;
        background: #0ea5e9;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        margin-left: 1rem;
        font-size: 0.8rem;
      }
      .step-text {
        flex: 1;
        color: var(--color-text-main);
      }
    </style>
  </head>
  <body class="theme">
    <header class="site-header">
      <div class="container header-content">
        <a href="index.html" class="brand">
          <div class="brand-logo">
            <img src="logo.svg" alt="Ø·Ù…Ø£Ù†ÙŠÙ†Ø©" class="logo-image" />
          </div>
          <div class="brand-text">
            <span class="brand-name">Ø·Ù…Ø£Ù†ÙŠÙ†Ø©</span>
            <span class="brand-tagline">Ù…Ø³Ø§Ø­ØªÙƒ Ù„Ù„Ù†Ù…Ùˆ ÙˆØ§Ù„ØªØ·ÙˆØ±</span>
          </div>
        </a>
      </div>
    </header>

    <main>
      <section class="page-header">
        <div class="container">
          <h1>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²</h1>
          <p>ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­. ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ Ù„Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø§Ù„Ø­Ø¬Ø².</p>
        </div>
      </section>

      <section class="section">
        <div class="container">
          <div class="confirmation-container">
            <!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ -->
            <div class="success-header">
              <div class="success-icon">âœ…</div>
              <h2>ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨ Ø§Ù„Ø­Ø¬Ø² Ø¨Ù†Ø¬Ø§Ø­!</h2>
              <p>Ø±Ù‚Ù… Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©: <strong id="trackingId">WT-XXXXXXXX</strong></p>
            </div>

            <!-- Ù…Ù„Ø®Øµ Ø§Ù„Ø­Ø¬Ø² -->
            <div class="booking-summary">
              <h3>Ù…Ù„Ø®Øµ Ø·Ù„Ø¨ Ø§Ù„Ø­Ø¬Ø²</h3>
              <div class="summary-row">
                <span class="summary-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„:</span>
                <span class="summary-value" id="fullName">-</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</span>
                <span class="summary-value" id="email">-</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„:</span>
                <span class="summary-value" id="phone">-</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø©:</span>
                <span class="summary-value" id="service">-</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Ø§Ù„Ø£Ø®ØµØ§Ø¦ÙŠ:</span>
                <span class="summary-value" id="specialist">-</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙØ¶Ù„:</span>
                <span class="summary-value" id="date">-</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©:</span>
                <span class="summary-value" id="time">-</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Ù†ÙˆØ¹ Ø§Ù„Ø¬Ù„Ø³Ø©:</span>
                <span class="summary-value" id="mode">-</span>
              </div>
            </div>

            <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¯ÙØ¹ -->
            <div class="payment-selection">
              <h3>ğŸ¯ Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ùƒ</h3>
              <div class="payment-options-grid">
                <label class="payment-option-card">
                  <input
                    type="radio"
                    name="payment-type"
                    value="online"
                    checked
                  />
                  <div class="payment-card online">
                    <div class="payment-icon">ğŸ’³</div>
                    <div class="payment-info">
                      <h5>Ø¯ÙØ¹ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† ÙÙˆØ±Ø§Ù‹</h5>
                      <p>Ø¯ÙØ¹ Ø¢Ù…Ù† Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø£Ùˆ PayPal ÙˆØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² ÙÙˆØ±Ø§Ù‹</p>
                      <span class="payment-badge">Ù…ÙˆØµÙ‰ Ø¨Ù‡</span>
                    </div>
                  </div>
                </label>

                <label class="payment-option-card">
                  <input type="radio" name="payment-type" value="inperson" />
                  <div class="payment-card inperson">
                    <div class="payment-icon">ğŸ’µ</div>
                    <div class="payment-info">
                      <h5>Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø¶ÙˆØ±</h5>
                      <p>Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù† ÙˆØ§Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø­Ø¶ÙˆØ± Ø§Ù„Ø¬Ù„Ø³Ø© (Ù†Ù‚Ø¯Ø§Ù‹ Ø£Ùˆ Ø¨Ø·Ø§Ù‚Ø©)</p>
                      <span class="payment-badge">Ù…Ø±ÙˆÙ†Ø©</span>
                    </div>
                  </div>
                </label>
              </div>

              <div style="margin-top: 2rem; text-align: center">
                <button
                  class="btn btn-primary btn-large"
                  onclick="proceedToPayment()"
                >
                  Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø§Ù„Ø­Ø¬Ø²
                </button>
              </div>
            </div>

            <!-- Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© -->
            <div class="next-steps">
              <h4>ğŸ“‹ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©</h4>
              <div class="step-item">
                <div class="step-number">1</div>
                <div class="step-text">Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©</div>
              </div>
              <div class="step-item">
                <div class="step-number">2</div>
                <div class="step-text">
                  Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¯ÙØ¹ (Ù„Ùˆ Ø§Ø®ØªØ±Øª Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†)
                </div>
              </div>
              <div class="step-item">
                <div class="step-number">3</div>
                <div class="step-text">
                  Ø§Ø³ØªÙ„Ù… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø¹Ù„Ù‰ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
                </div>
              </div>
              <div class="step-item">
                <div class="step-number">4</div>
                <div class="step-text">Ø§Ù„Ø­Ø¶ÙˆØ± ÙÙŠ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù…Ø­Ø¯Ø¯</div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-grid">
        <div>
          <div class="brand footer-brand">
            <div class="brand-logo small">
              <img src="logo.svg" alt="Ø·Ù…Ø£Ù†ÙŠÙ†Ø©" class="logo-image" />
            </div>
            <div class="brand-text">
              <span class="brand-name">Ø·Ù…Ø£Ù†ÙŠÙ†Ø©</span>
              <span class="brand-tagline">Ù…Ø³Ø§Ø­ØªÙƒ Ù„Ù„Ù†Ù…Ùˆ ÙˆØ§Ù„ØªØ·ÙˆØ±</span>
            </div>
          </div>
        </div>
      </div>
      <div class="container footer-bottom">
        <span
          >Â© <span id="year"></span> <span class="brand-inline">Ø·Ù…Ø£Ù†ÙŠÙ†Ø©</span>.
          Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</span
        >
      </div>
    </footer>

    <script src="pricing-config.js"></script>
    <script>
      // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø¬Ø² Ù…Ù† URL Ø£Ùˆ localStorage
      function getBookingData() {
        // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† localStorage
        const savedData = localStorage.getItem("bookingData");
        if (savedData) {
          return JSON.parse(savedData);
        }

        // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† URL parameters
        const params = new URLSearchParams(window.location.search);
        return {
          fullName: params.get("fullName") || "-",
          email: params.get("email") || "-",
          phone: params.get("phone") || "-",
          service: params.get("service") || "-",
          specialist: params.get("specialist") || "-",
          date: params.get("preferredDate") || "-",
          time: params.get("preferredTime") || "-",
          mode: params.get("mode") || "-",
          trackingId: params.get("trackingId") || generateTrackingId(),
        };
      }

      // ØªÙˆÙ„ÙŠØ¯ Ø±Ù‚Ù… Ù…ØªØ§Ø¨Ø¹Ø©
      function generateTrackingId() {
        return (
          "WT-" +
          Date.now().toString(36).toUpperCase() +
          "-" +
          Math.random().toString(36).substring(2, 6).toUpperCase()
        );
      }

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      function updatePageWithData(data) {
        document.getElementById("trackingId").textContent = data.trackingId;
        document.getElementById("fullName").textContent = data.fullName;
        document.getElementById("email").textContent = data.email;
        document.getElementById("phone").textContent = data.phone;
        document.getElementById("service").textContent = getServiceName(
          data.service
        );
        document.getElementById("specialist").textContent = getSpecialistName(
          data.specialist
        );
        document.getElementById("date").textContent = formatDate(data.date);
        document.getElementById("time").textContent = getTimeName(data.time);
        document.getElementById("mode").textContent = getModeName(data.mode);
      }

      // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ø®Ø¯Ù…Ø©
      function getServiceName(serviceId) {
        const services = {
          consultation: "Ø§Ø³ØªØ´Ø§Ø±Ø© Ù†ÙØ³ÙŠØ© ÙØ±Ø¯ÙŠØ©",
          followup: "Ø¬Ù„Ø³Ø© Ù…ØªØ§Ø¨Ø¹Ø©",
          family: "Ø§Ø³ØªØ´Ø§Ø±Ø© Ø£Ø³Ø±ÙŠØ©/Ø²ÙˆØ¬ÙŠØ©",
          group: "Ø¬Ù„Ø³Ø© Ø¬Ù…Ø§Ø¹ÙŠØ© / ØªÙˆØ¹ÙˆÙŠØ©",
        };
        return services[serviceId] || serviceId || "-";
      }

      // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ø£Ø®ØµØ§Ø¦ÙŠ
      function getSpecialistName(specialistId) {
        const specialists = {
          amna: "Ø£. Ø¯. Ø¢Ù…Ù†Ø© Ø§Ù„Ø±Ø§Ø¬Ø­ÙŠ",
          samer: "Ø£. Ø³Ø§Ù…Ø± Ø§Ù„Ø­Ø±Ø¨ÙŠ",
          lama: "Ø£. Ù„Ù…Ù‰ Ø§Ù„Ø³Ø¨ÙŠØ¹ÙŠ",
        };
        return specialists[specialistId] || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙØ¶ÙŠÙ„ Ù…Ø­Ø¯Ø¯";
      }

      // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ®
      function formatDate(dateString) {
        if (!dateString || dateString === "-") return "-";
        const date = new Date(dateString);
        return date.toLocaleDateString("ar-SA", {
          year: "numeric",
          month: "long",
          day: "numeric",
        });
      }

      // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„ÙˆÙ‚Øª
      function getTimeName(timeId) {
        const times = {
          morning: "Ø§Ù„ØµØ¨Ø§Ø­",
          afternoon: "Ø§Ù„Ø¸Ù‡ÙŠØ±Ø© / Ø¨Ø¹Ø¯ Ø§Ù„Ø¹ØµØ±",
          evening: "Ø§Ù„Ù…Ø³Ø§Ø¡",
        };
        return times[timeId] || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙØ¶ÙŠÙ„ Ù…Ø­Ø¯Ø¯";
      }

      // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ø¬Ù„Ø³Ø©
      function getModeName(modeId) {
        const modes = {
          online: "Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† (Ù…Ø±Ø¦ÙŠ/ØµÙˆØªÙŠ)",
          inperson: "Ø­Ø¶ÙˆØ±ÙŠ (Ø¥Ù† ØªÙˆÙØ±)",
          flexible: "Ù„Ø§ ÙØ±Ù‚ØŒ Ø­Ø³Ø¨ Ø§Ù„Ù…ØªØ§Ø­",
        };
        return modes[modeId] || modeId || "-";
      }

      // Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± Ù„Ù„Ø¯ÙØ¹
      function proceedToPayment() {
        const paymentType = document.querySelector(
          'input[name="payment-type"]:checked'
        ).value;
        const bookingData = getBookingData();

        // Ø­ÙØ¸ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
        bookingData.paymentType = paymentType;
        localStorage.setItem("bookingData", JSON.stringify(bookingData));

        if (paymentType === "online") {
          // ØªÙˆØ¬ÙŠÙ‡ Ù„ØµÙØ­Ø© Ø§Ù„Ø¯ÙØ¹
          window.location.href = `payment.html?service=${bookingData.service}&specialist=${bookingData.specialist}&discount=null&package=1`;
        } else {
          // Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø¶ÙˆØ± - Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯
          showPaymentAtArrivalConfirmation();
        }
      }

      // Ø¹Ø±Ø¶ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø¶ÙˆØ±
      function showPaymentAtArrivalConfirmation() {
        const bookingData = getBookingData();
        const confirmationHtml = `
                <div style="text-align: center; padding: 2rem; background: #dcfce7; border-radius: 1rem; margin: 2rem 0;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">âœ…</div>
                    <h3 style="color: #16a34a; margin-bottom: 1rem;">ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯Ùƒ Ø¨Ù†Ø¬Ø§Ø­!</h3>
                    <p style="color: #15803d; margin-bottom: 1rem;">
                        Ø±Ù‚Ù… Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©: <strong>${bookingData.trackingId}</strong>
                    </p>
                    <p style="color: #15803d; margin-bottom: 1.5rem;">
                        Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø© Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªÙØ§ØµÙŠÙ„.<br>
                        Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø­Ø¶ÙˆØ± Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø¨Ù€ 15 Ø¯Ù‚ÙŠÙ‚Ø©.<br>
                        Ø§Ù„Ø¯ÙØ¹ Ø³ÙŠØªÙ… Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø¶ÙˆØ± (Ù†Ù‚Ø¯Ø§Ù‹ Ø£Ùˆ Ø¨Ø·Ø§Ù‚Ø©).
                    </p>
                    <button class="btn btn-primary" onclick="window.location.href='index.html'">
                        Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                    </button>
                </div>
            `;

        document.querySelector(".payment-selection").innerHTML =
          confirmationHtml;
      }

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ù†Ø©
      document.getElementById("year").textContent = new Date().getFullYear();

      // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù€ nav toggle
      const navToggle = document.querySelector(".nav-toggle");
      const mainNav = document.querySelector(".main-nav");

      if (navToggle && mainNav) {
        navToggle.addEventListener("click", () => {
          mainNav.classList.toggle("active");
          navToggle.classList.toggle("active");
        });
      }

      // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
      document.addEventListener("DOMContentLoaded", function () {
        const bookingData = getBookingData();
        updatePageWithData(bookingData);
      });
    </script>
  </body>
</html>
